# maxx-wp-automator

> A high-performance command-line diagnostic and automation tool designed to manage remote WordPress installations via SSH. This project demonstrates proficiency in **Python automation**, **Linux systems administration**, **Docker orchestration**, and **modern package management** using bleeding-edge runtimes.

## ðŸš€ Features

* **Zero-Touch Bootstrap:** Automated WordPress installation (Core, Config, DB, and Admin) via SSH.
* **Environment Reset:** A "Clean" function to safely wipe remote files and reset the database.
* **Health Checks:** Real-time monitoring of disk usage and memory consumption.
* **Security Audits:** Scans for insecure (777) permissions and fetches recent system error logs.
* **Automated Maintenance:** Remote database optimization and core/plugin updates in a single command.
* **Disaster Recovery:** Automated database backups transferred locally via SFTP before updates.
* **Professional Reporting:** Generates a structured Markdown report (`logs/wp_report.md`) after every run.

## ðŸ› ï¸ Tech Stack

* **Python 3.14+**
* **Package Management:** **Conda** (System isolation) + **uv** (High-speed resolution)
* **Infrastructure:** **Docker & Docker Compose** (Ubuntu 22.04 LAMP stack + MariaDB)
* **SSH Protocol:** **Paramiko**
* **CMS Tooling:** **WP-CLI**

---

## ðŸ“¦ Installation & Setup

### 1. Spin up the Infrastructure

Build the Ubuntu-based SSH target and the MariaDB container:

```bash
docker compose up -d --build

```

### 2. Initialize the Python Environment

This project uses **Conda** to manage the Python 3.14 runtime and **uv** for library synchronization.

```bash
# Create the environment from the yml file
conda env create -f environment.yml

# Activate the environment
conda activate wp-automator

# Sync dependencies using uv
uv pip install -r requirements.txt

```

---

## ðŸ“‹ Usage Guide

### Full Lifecycle Test (The "Fresh Start")

Wipe the remote environment and install a fresh copy of WordPress:

```bash
python main.py --user testuser --passw password --port 2222 --clean --setup

```

### Maintenance Mode

Optimize the database, create a local backup, and update all components:

```bash
python main.py --user testuser --passw password --port 2222 --optimize --update

```

### Quick Diagnostic

Run a health check and generate a report without making changes:

```bash
python main.py --user testuser --passw password --port 2222

```

---

## ðŸ“‚ Project Structure & File Management

To maintain a clean repository, all generated files are stored in a git-ignored `logs/` directory.

* **`main.py`**: The core automation logic.
* **`logs/wp_report.md`**: Detailed diagnostic findings generated by the script.
* **`logs/local_wp_backup.sql`**: Remote database snapshots pulled via SFTP.
* **`environment.yml`**: Full Conda environment export for Python 3.14 reproducibility.

---

## ðŸ›¡ï¸ Security & Architecture

* **Non-Root Execution:** The tool connects as `testuser`. The Docker environment utilizes specific `sudo` and `chown` configurations to maintain the principle of least privilege.
* **Idempotency:** The `--setup` function verifies existing installations to prevent accidental data overwrites.
* **Modern Resolution:** Using `uv` ensures that even on experimental Python versions, dependencies are resolved with maximum stability.

---

### ðŸ† Project Impact

> Developed as a DevOps utility to eliminate manual WordPress audit tasks. By orchestrating SSH connections with WP-CLI, this tool ensures that remote environments remain secure, updated, and optimized with zero manual intervention.
